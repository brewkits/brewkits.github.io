"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3478],{4065(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"flutter/best-practices","title":"Flutter Best Practices","description":"BrewKits\' recommended best practices for Flutter package development.","source":"@site/docs/flutter/best-practices.md","sourceDirName":"flutter","slug":"/flutter/best-practices","permalink":"/docs/flutter/best-practices","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Publishing Flutter Packages to pub.dev","permalink":"/docs/flutter/publishing"},"next":{"title":"Getting Started with Kotlin Multiplatform","permalink":"/docs/kmp/getting-started"}}');var i=t(4848),l=t(8453);const r={sidebar_position:3},a="Flutter Best Practices",d={},c=[{value:"Code Organization",id:"code-organization",level:2},{value:"1. Directory Structure",id:"1-directory-structure",level:3},{value:"2. Public API Design",id:"2-public-api-design",level:3},{value:"3. Use Barrel Files Wisely",id:"3-use-barrel-files-wisely",level:3},{value:"Code Quality",id:"code-quality",level:2},{value:"1. Enable Strict Linting",id:"1-enable-strict-linting",level:3},{value:"2. Null Safety",id:"2-null-safety",level:3},{value:"3. Immutability",id:"3-immutability",level:3},{value:"Documentation",id:"documentation",level:2},{value:"1. Dartdoc Comments",id:"1-dartdoc-comments",level:3},{value:"2. README.md",id:"2-readmemd",level:3},{value:"Testing",id:"testing",level:2},{value:"1. Test Coverage",id:"1-test-coverage",level:3},{value:"2. Unit Tests",id:"2-unit-tests",level:3},{value:"3. Widget Tests",id:"3-widget-tests",level:3},{value:"Performance",id:"performance",level:2},{value:"1. Use Const Constructors",id:"1-use-const-constructors",level:3},{value:"2. Avoid Rebuilding Unnecessarily",id:"2-avoid-rebuilding-unnecessarily",level:3},{value:"3. Lazy Loading",id:"3-lazy-loading",level:3},{value:"Dependencies",id:"dependencies",level:2},{value:"1. Minimize Dependencies",id:"1-minimize-dependencies",level:3},{value:"2. Version Constraints",id:"2-version-constraints",level:3},{value:"Platform Support",id:"platform-support",level:2},{value:"1. Specify Supported Platforms",id:"1-specify-supported-platforms",level:3},{value:"2. Test on All Platforms",id:"2-test-on-all-platforms",level:3},{value:"Continuous Integration",id:"continuous-integration",level:2},{value:"Example GitHub Actions",id:"example-github-actions",level:3},{value:"Resources",id:"resources",level:2}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"flutter-best-practices",children:"Flutter Best Practices"})}),"\n",(0,i.jsx)(n.p,{children:"BrewKits' recommended best practices for Flutter package development."}),"\n",(0,i.jsx)(n.h2,{id:"code-organization",children:"Code Organization"}),"\n",(0,i.jsx)(n.h3,{id:"1-directory-structure",children:"1. Directory Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"lib/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u251c\u2500\u2500 widgets/\n\u2502   \u2514\u2500\u2500 utils/\n\u2514\u2500\u2500 my_package.dart    # Public API\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-public-api-design",children:"2. Public API Design"}),"\n",(0,i.jsx)(n.p,{children:"Only export what users need:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// \u2705 Good\nlibrary my_package;\n\nexport 'src/widgets/awesome_widget.dart';\nexport 'src/models/awesome_model.dart';\n\n// \u274c Bad - don't export internal utilities\n// export 'src/utils/internal_helper.dart';\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-use-barrel-files-wisely",children:"3. Use Barrel Files Wisely"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// lib/src/widgets/widgets.dart\nexport 'awesome_widget.dart';\nexport 'cool_widget.dart';\n\n// lib/my_package.dart\nexport 'src/widgets/widgets.dart';\n"})}),"\n",(0,i.jsx)(n.h2,{id:"code-quality",children:"Code Quality"}),"\n",(0,i.jsx)(n.h3,{id:"1-enable-strict-linting",children:"1. Enable Strict Linting"}),"\n",(0,i.jsxs)(n.p,{children:["Add ",(0,i.jsx)(n.code,{children:"flutter_lints"})," to your ",(0,i.jsx)(n.code,{children:"pubspec.yaml"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"dev_dependencies:\n  flutter_lints: ^4.0.0\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Create ",(0,i.jsx)(n.code,{children:"analysis_options.yaml"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"include: package:flutter_lints/flutter.yaml\n\nlinter:\n  rules:\n    - always_declare_return_types\n    - avoid_print\n    - prefer_const_constructors\n    - prefer_const_declarations\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-null-safety",children:"2. Null Safety"}),"\n",(0,i.jsx)(n.p,{children:"Always use null safety:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// \u2705 Good\nString? getName() {\n  return name;\n}\n\n// Use null-aware operators\nfinal displayName = getName() ?? 'Unknown';\n\n// \u274c Bad - avoid using dynamic\ndynamic getData() { }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-immutability",children:"3. Immutability"}),"\n",(0,i.jsx)(n.p,{children:"Prefer immutable classes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// \u2705 Good\nclass User {\n  const User({\n    required this.id,\n    required this.name,\n  });\n\n  final String id;\n  final String name;\n\n  User copyWith({\n    String? id,\n    String? name,\n  }) {\n    return User(\n      id: id ?? this.id,\n      name: name ?? this.name,\n    );\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,i.jsx)(n.h3,{id:"1-dartdoc-comments",children:"1. Dartdoc Comments"}),"\n",(0,i.jsx)(n.p,{children:"Write comprehensive dartdoc for public APIs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"/// A widget that displays awesome content.\n///\n/// The [AwesomeWidget] takes a [title] and optional [onTap] callback.\n///\n/// Example:\n/// ```dart\n/// AwesomeWidget(\n///   title: 'Hello World',\n///   onTap: () => print('Tapped!'),\n/// )\n/// ```\n///\n/// See also:\n///  * [AnotherWidget], which provides similar functionality.\nclass AwesomeWidget extends StatelessWidget {\n  /// Creates an [AwesomeWidget].\n  ///\n  /// The [title] must not be null.\n  const AwesomeWidget({\n    super.key,\n    required this.title,\n    this.onTap,\n  });\n\n  /// The title to display.\n  final String title;\n\n  /// Called when the widget is tapped.\n  final VoidCallback? onTap;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-readmemd",children:"2. README.md"}),"\n",(0,i.jsx)(n.p,{children:"Include these sections:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:"# Package Name\n\nBrief description\n\n## Features\n\n- Feature 1\n- Feature 2\n\n## Getting Started\n\nInstallation instructions\n\n## Usage\n\nCode examples\n\n## Additional Information\n\nContributing guidelines, etc.\n"})}),"\n",(0,i.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,i.jsx)(n.h3,{id:"1-test-coverage",children:"1. Test Coverage"}),"\n",(0,i.jsx)(n.p,{children:"Aim for >80% coverage:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"flutter test --coverage\ngenhtml coverage/lcov.info -o coverage/html\nopen coverage/html/index.html\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-unit-tests",children:"2. Unit Tests"}),"\n",(0,i.jsx)(n.p,{children:"Test all business logic:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"void main() {\n  group('AwesomeService', () {\n    test('calculates correctly', () {\n      final service = AwesomeService();\n      expect(service.calculate(2, 3), equals(5));\n    });\n\n    test('handles edge cases', () {\n      final service = AwesomeService();\n      expect(() => service.calculate(null, 3), throwsArgumentError);\n    });\n  });\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-widget-tests",children:"3. Widget Tests"}),"\n",(0,i.jsx)(n.p,{children:"Test UI components:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"testWidgets('AwesomeWidget displays title', (tester) async {\n  await tester.pumpWidget(\n    const MaterialApp(\n      home: AwesomeWidget(title: 'Test'),\n    ),\n  );\n\n  expect(find.text('Test'), findsOneWidget);\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,i.jsx)(n.h3,{id:"1-use-const-constructors",children:"1. Use Const Constructors"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// \u2705 Good - uses const\nconst Text('Hello')\n\n// \u274c Bad - creates new instance each rebuild\nText('Hello')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-avoid-rebuilding-unnecessarily",children:"2. Avoid Rebuilding Unnecessarily"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"class MyWidget extends StatelessWidget {\n  const MyWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    // \u2705 Good - extract expensive widgets to const\n    return const Column(\n      children: [\n        _Header(),\n        _Footer(),\n      ],\n    );\n  }\n}\n\nclass _Header extends StatelessWidget {\n  const _Header();\n  // ...\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-lazy-loading",children:"3. Lazy Loading"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// \u2705 Good - lazy initialization\nlate final ExpensiveObject _object = ExpensiveObject();\n\n// Use ListView.builder for long lists\nListView.builder(\n  itemCount: items.length,\n  itemBuilder: (context, index) => ItemWidget(items[index]),\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,i.jsx)(n.h3,{id:"1-minimize-dependencies",children:"1. Minimize Dependencies"}),"\n",(0,i.jsx)(n.p,{children:"Only include necessary dependencies:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# \u2705 Good - minimal dependencies\ndependencies:\n  flutter:\n    sdk: flutter\n\n# \u274c Bad - unnecessary dependencies\ndependencies:\n  flutter:\n    sdk: flutter\n  lodash: ^4.17.21\n  moment: ^2.29.4\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-version-constraints",children:"2. Version Constraints"}),"\n",(0,i.jsx)(n.p,{children:"Use appropriate version constraints:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"dependencies:\n  # \u2705 Good - allows compatible updates\n  http: ^1.0.0\n\n  # \u274c Bad - too strict\n  http: 1.0.0\n\n  # \u274c Bad - too loose\n  http: any\n"})}),"\n",(0,i.jsx)(n.h2,{id:"platform-support",children:"Platform Support"}),"\n",(0,i.jsx)(n.h3,{id:"1-specify-supported-platforms",children:"1. Specify Supported Platforms"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# pubspec.yaml\nflutter:\n  plugin:\n    platforms:\n      android:\n        package: com.brewkits.awesome\n        pluginClass: AwesomePlugin\n      ios:\n        pluginClass: AwesomePlugin\n      web:\n        pluginClass: AwesomePluginWeb\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-test-on-all-platforms",children:"2. Test on All Platforms"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test on different platforms\nflutter test\nflutter build apk\nflutter build ios\nflutter build web\n"})}),"\n",(0,i.jsx)(n.h2,{id:"continuous-integration",children:"Continuous Integration"}),"\n",(0,i.jsx)(n.h3,{id:"example-github-actions",children:"Example GitHub Actions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# .github/workflows/test.yml\nname: Test\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: subosito/flutter-action@v2\n      - run: flutter pub get\n      - run: flutter analyze\n      - run: flutter test --coverage\n      - uses: codecov/codecov-action@v3\n"})}),"\n",(0,i.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://dart.dev/guides/language/effective-dart",children:"Effective Dart"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://flutter.dev/docs/perf/best-practices",children:"Flutter Performance Best Practices"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://flutter.dev/docs/development/packages-and-plugins/developing-packages",children:"Package Development Guide"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Follow these practices to build packages that the community loves!"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>a});var s=t(6540);const i={},l=s.createContext(i);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);