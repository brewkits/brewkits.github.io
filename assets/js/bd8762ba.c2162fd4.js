"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8769],{6075(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"kmp/getting-started","title":"Getting Started with Kotlin Multiplatform","description":"Learn how to build cross-platform libraries with Kotlin Multiplatform (KMP).","source":"@site/docs/kmp/getting-started.md","sourceDirName":"kmp","slug":"/kmp/getting-started","permalink":"/docs/kmp/getting-started","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Flutter Best Practices","permalink":"/docs/flutter/best-practices"},"next":{"title":"Publishing KMP Libraries","permalink":"/docs/kmp/publishing"}}');var t=i(4848),l=i(8453);const s={sidebar_position:1},a="Getting Started with Kotlin Multiplatform",o={},c=[{value:"What is Kotlin Multiplatform?",id:"what-is-kotlin-multiplatform",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setting Up Your Environment",id:"setting-up-your-environment",level:2},{value:"1. Verify Installation",id:"1-verify-installation",level:3},{value:"2. Create a New KMP Library",id:"2-create-a-new-kmp-library",level:3},{value:"Project Structure",id:"project-structure",level:2},{value:"Basic Configuration",id:"basic-configuration",level:2},{value:"build.gradle.kts",id:"buildgradlekts",level:3},{value:"Writing Shared Code",id:"writing-shared-code",level:2},{value:"Common Code (commonMain)",id:"common-code-commonmain",level:3},{value:"Platform-Specific Implementations",id:"platform-specific-implementations",level:3},{value:"Testing",id:"testing",level:2},{value:"Common Tests",id:"common-tests",level:3},{value:"Run Tests",id:"run-tests",level:3},{value:"Building",id:"building",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Maximize Shared Code",id:"1-maximize-shared-code",level:3},{value:"2. Use expect/actual for Platform APIs",id:"2-use-expectactual-for-platform-apis",level:3},{value:"3. Leverage Kotlin Coroutines",id:"3-leverage-kotlin-coroutines",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Resources",id:"resources",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"getting-started-with-kotlin-multiplatform",children:"Getting Started with Kotlin Multiplatform"})}),"\n",(0,t.jsx)(n.p,{children:"Learn how to build cross-platform libraries with Kotlin Multiplatform (KMP)."}),"\n",(0,t.jsx)(n.h2,{id:"what-is-kotlin-multiplatform",children:"What is Kotlin Multiplatform?"}),"\n",(0,t.jsx)(n.p,{children:"Kotlin Multiplatform allows you to share code between multiple platforms while maintaining native performance. Write your business logic once and use it across:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Android"})," (native)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"iOS"})," (native)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Web"})," (JavaScript/Wasm)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Desktop"})," (JVM, Windows, macOS, Linux)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Server"})," (JVM, Node.js)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Before you begin, install:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"JDK"})," 17 or higher"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Kotlin"})," 1.9.0 or higher"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Gradle"})," 8.0 or higher"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Android Studio"})," or ",(0,t.jsx)(n.strong,{children:"IntelliJ IDEA"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Xcode"})," (for iOS development on macOS)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"setting-up-your-environment",children:"Setting Up Your Environment"}),"\n",(0,t.jsx)(n.h3,{id:"1-verify-installation",children:"1. Verify Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -version\nkotlin -version\ngradle --version\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-create-a-new-kmp-library",children:"2. Create a New KMP Library"}),"\n",(0,t.jsx)(n.p,{children:"Using the Kotlin Multiplatform wizard:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Using IntelliJ IDEA or Android Studio\n# File \u2192 New \u2192 Project \u2192 Kotlin Multiplatform Library\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or use the Gradle template:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir my-kmp-library\ncd my-kmp-library\ngradle init --type kotlin-library\n"})}),"\n",(0,t.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,t.jsx)(n.p,{children:"A typical KMP library structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"my-kmp-library/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 commonMain/\n\u2502   \u2502   \u2514\u2500\u2500 kotlin/           # Shared code\n\u2502   \u251c\u2500\u2500 androidMain/\n\u2502   \u2502   \u2514\u2500\u2500 kotlin/           # Android-specific\n\u2502   \u251c\u2500\u2500 iosMain/\n\u2502   \u2502   \u2514\u2500\u2500 kotlin/           # iOS-specific\n\u2502   \u251c\u2500\u2500 jvmMain/\n\u2502   \u2502   \u2514\u2500\u2500 kotlin/           # JVM-specific\n\u2502   \u2514\u2500\u2500 jsMain/\n\u2502       \u2514\u2500\u2500 kotlin/           # JavaScript-specific\n\u251c\u2500\u2500 build.gradle.kts\n\u251c\u2500\u2500 gradle.properties\n\u2514\u2500\u2500 settings.gradle.kts\n"})}),"\n",(0,t.jsx)(n.h2,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"buildgradlekts",children:"build.gradle.kts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'plugins {\n    kotlin("multiplatform") version "1.9.20"\n    id("com.android.library")\n    id("maven-publish")\n}\n\ngroup = "dev.brewkits"\nversion = "1.0.0"\n\nkotlin {\n    // Configure targets\n    android()\n    ios()\n    iosSimulatorArm64()\n\n    jvm()\n    js(IR) {\n        browser()\n        nodejs()\n    }\n\n    // Configure source sets\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n                implementation("org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.3")\n            }\n        }\n\n        val commonTest by getting {\n            dependencies {\n                implementation(kotlin("test"))\n            }\n        }\n\n        val androidMain by getting {\n            dependencies {\n                implementation("androidx.core:core-ktx:1.12.0")\n            }\n        }\n\n        val iosMain by getting\n        val iosSimulatorArm64Main by getting {\n            dependsOn(iosMain)\n        }\n    }\n}\n\nandroid {\n    namespace = "dev.brewkits.library"\n    compileSdk = 34\n\n    defaultConfig {\n        minSdk = 24\n    }\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_17\n        targetCompatibility = JavaVersion.VERSION_17\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"writing-shared-code",children:"Writing Shared Code"}),"\n",(0,t.jsx)(n.h3,{id:"common-code-commonmain",children:"Common Code (commonMain)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'// src/commonMain/kotlin/dev/brewkits/library/Greeting.kt\npackage dev.brewkits.library\n\nclass Greeting {\n    fun greet(): String {\n        return "Hello from ${getPlatform().name}!"\n    }\n}\n\nexpect fun getPlatform(): Platform\n\ninterface Platform {\n    val name: String\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"platform-specific-implementations",children:"Platform-Specific Implementations"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Android (androidMain):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'// src/androidMain/kotlin/dev/brewkits/library/Platform.android.kt\npackage dev.brewkits.library\n\nactual fun getPlatform(): Platform = AndroidPlatform()\n\nclass AndroidPlatform : Platform {\n    override val name: String = "Android ${android.os.Build.VERSION.SDK_INT}"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"iOS (iosMain):"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'// src/iosMain/kotlin/dev/brewkits/library/Platform.ios.kt\npackage dev.brewkits.library\n\nimport platform.UIKit.UIDevice\n\nactual fun getPlatform(): Platform = IOSPlatform()\n\nclass IOSPlatform : Platform {\n    override val name: String =\n        "${UIDevice.currentDevice.systemName()} ${UIDevice.currentDevice.systemVersion}"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(n.h3,{id:"common-tests",children:"Common Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'// src/commonTest/kotlin/dev/brewkits/library/GreetingTest.kt\npackage dev.brewkits.library\n\nimport kotlin.test.Test\nimport kotlin.test.assertTrue\n\nclass GreetingTest {\n    @Test\n    fun testGreeting() {\n        val greeting = Greeting().greet()\n        assertTrue(greeting.contains("Hello"))\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"run-tests",children:"Run Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run all tests\n./gradlew allTests\n\n# Run tests for specific platform\n./gradlew jvmTest\n./gradlew androidInstrumentedTest\n./gradlew iosSimulatorArm64Test\n"})}),"\n",(0,t.jsx)(n.h2,{id:"building",children:"Building"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Build all targets\n./gradlew build\n\n# Build specific target\n./gradlew jvmJar\n./gradlew assembleDebug  # Android\n./gradlew linkDebugFrameworkIosArm64  # iOS\n"})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-maximize-shared-code",children:"1. Maximize Shared Code"}),"\n",(0,t.jsxs)(n.p,{children:["Put as much logic as possible in ",(0,t.jsx)(n.code,{children:"commonMain"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'// \u2705 Good - business logic in commonMain\nclass UserRepository {\n    fun validateEmail(email: String): Boolean {\n        return email.contains("@")\n    }\n}\n\n// Platform-specific only for platform APIs\nexpect class NetworkClient() {\n    fun makeRequest(url: String): String\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"2-use-expectactual-for-platform-apis",children:"2. Use expect/actual for Platform APIs"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:"// commonMain\nexpect class FileStorage {\n    fun save(key: String, value: String)\n    fun load(key: String): String?\n}\n\n// androidMain\nactual class FileStorage {\n    private val prefs = /* SharedPreferences */\n\n    actual fun save(key: String, value: String) {\n        prefs.edit().putString(key, value).apply()\n    }\n}\n\n// iosMain\nactual class FileStorage {\n    actual fun save(key: String, value: String) {\n        NSUserDefaults.standardUserDefaults.setObject(value, key)\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-leverage-kotlin-coroutines",children:"3. Leverage Kotlin Coroutines"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:"class DataService {\n    suspend fun fetchData(): Result<Data> = withContext(Dispatchers.IO) {\n        try {\n            val response = api.fetch()\n            Result.success(response)\n        } catch (e: Exception) {\n            Result.failure(e)\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/kmp/publishing",children:"Publishing to klibs.io"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docs/kmp/best-practices",children:"Best Practices"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#",children:"Advanced Patterns"})," (Coming Soon)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://kotlinlang.org/docs/multiplatform.html",children:"Kotlin Multiplatform Docs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/Kotlin/kmm-samples",children:"KMP Samples"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://touchlab.co/kmp-learning-resources",children:"Touchlab KMP Resources"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Start building once, deploy everywhere with Kotlin Multiplatform!"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>s,x:()=>a});var r=i(6540);const t={},l=r.createContext(t);function s(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);